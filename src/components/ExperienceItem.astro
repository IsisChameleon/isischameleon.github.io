---
const { item } = Astro.props;
const { data } = item;
const timeLabel = data.end ? `${data.start} — ${data.end}` : `${data.start} — Present`;
---
<div class="relative pl-8 pb-10">
  <div class="absolute left-0 top-2 h-3 w-3 rounded-full bg-accent"></div>
  <div class="absolute left-1.5 top-6 h-full w-px bg-base-200 dark:bg-base-800"></div>
  <div class="flex flex-col gap-3">
    <div class="flex flex-wrap items-center gap-3">
      <h3 class="text-lg font-semibold text-base-950 dark:text-base-50">{data.role}</h3>
      <span class="text-sm text-base-500">{data.company}</span>
      {data.location ? <span class="text-xs text-base-400">{data.location}</span> : null}
    </div>
    <div class="text-xs uppercase tracking-[0.2em] text-base-400">{timeLabel}</div>
    <p class="text-sm text-base-600 dark:text-base-300">{data.summary}</p>
    <ul class="list-disc pl-5 text-sm text-base-600 dark:text-base-300">
      {data.impact.map((line) => (
        <li>{line}</li>
      ))}
    </ul>
    <div class="flex flex-wrap gap-2 text-xs text-base-500">
      {data.stack.map((tech) => (
        <span class="rounded-full border border-base-200 dark:border-base-800 px-3 py-1">{tech}</span>
      ))}
    </div>
  </div>
</div>
