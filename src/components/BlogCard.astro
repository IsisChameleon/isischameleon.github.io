---
const { post } = Astro.props;
const published = new Date(post.publishedAt);
const formatted = new Intl.DateTimeFormat('en-US', { dateStyle: 'medium' }).format(published);
---
<article class="surface p-6 flex flex-col gap-4">
  {post.coverImage?.url ? (
    <img src={post.coverImage.url} alt={post.title} class="h-40 w-full rounded-xl object-cover" loading="lazy" />
  ) : null}
  <div class="flex flex-col gap-2">
    <div class="text-xs uppercase tracking-[0.2em] text-base-400">{formatted}</div>
    <h3 class="text-lg font-semibold text-base-950 dark:text-base-50">
      <a href={`/blog/${post.slug}`} class="text-base-950 dark:text-base-50 hover:text-accent">
        {post.title}
      </a>
    </h3>
    <p class="text-sm text-base-600 dark:text-base-300">{post.brief}</p>
  </div>
  <div class="flex flex-wrap gap-2 text-xs text-base-500">
    {post.tags?.map((tag) => (
      <span class="rounded-full border border-base-200 dark:border-base-800 px-3 py-1">{tag.name}</span>
    ))}
  </div>
</article>
